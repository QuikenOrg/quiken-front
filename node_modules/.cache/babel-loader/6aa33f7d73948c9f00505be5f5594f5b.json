{"ast":null,"code":"import _regeneratorRuntime from\"/home/julianallende/Desktop/proyecto_sapo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/julianallende/Desktop/proyecto_sapo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/julianallende/Desktop/proyecto_sapo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Navbar from'../components/Navbar/Navbar';import'./SignUpPagina.scss';import{Link,useHistory}from'react-router-dom';import axios from'axios';import Footer from'../components/Footer/Footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SignUpPagina=function SignUpPagina(props){var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var registerHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();config={header:{\"Content-Type\":\"application/json\"}};if(!(password!==confirmPassword)){_context.next=6;break;}setPassword(\"\");setConfirmPassword(\"\");return _context.abrupt(\"return\",setError(\"Passwords do not match\"));case 6:_context.prev=6;_context.next=9;return axios.post(\"/api/auth/register\",{username:username,email:email,password:password},config);case 9:_yield$axios$post=_context.sent;data=_yield$axios$post.data;localStorage.setItem(\"authToken\",data.token);history.push(\"/\");_context.next=19;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](6);console.log(_context.t0);setError(_context.t0.response.data.error);case 19:case\"end\":return _context.stop();}}},_callee,null,[[6,15]]);}));return function registerHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"page-content-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"signup-main-wrapper\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"main-heading-signup\",children:\"Registrate\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"main-subheading-signup\",children:\"Crea tu cuenta, y empieza a crecer tu negocio\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"the-form\",onSubmit:registerHandler,children:[error&&/*#__PURE__*/_jsx(\"span\",{className:\"register-screen-title\",children:error}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"Usuario \",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",required:true,id:\"name\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},type:\"text\",placeholder:\"Ingresa tu nombre usuario\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"Email\",/*#__PURE__*/_jsx(\"span\",{children:\" *\"})]}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",required:true,id:\"name\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},type:\"text\",placeholder:\"Ingresa tu email\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"Contrase\\xF1a\",/*#__PURE__*/_jsx(\"span\",{children:\" *\"})]}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",required:true,id:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},type:\"password\",placeholder:\"Ingresa tu contase\\xF1a\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[\"Confirmar Contrase\\xF1a\",/*#__PURE__*/_jsx(\"span\",{children:\" *\"})]}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",required:true,id:\"password\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);},type:\"password\",placeholder:\"Confirma tu contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-register\",children:\"Registrarme\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper-sign-in-link\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Ya tienes una cuenta?\"}),/*#__PURE__*/_jsx(Link,{to:\"/signin\",children:\"\\xA1Da click aqui!\"})]})]})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default SignUpPagina;","map":{"version":3,"sources":["/home/julianallende/Desktop/proyecto_sapo/client/src/Pages/SignUpPagina.js"],"names":["React","useState","Navbar","Link","useHistory","axios","Footer","SignUpPagina","props","history","username","setUsername","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","registerHandler","e","preventDefault","config","header","post","data","localStorage","setItem","token","push","console","log","response","target","value"],"mappings":"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","sourcesContent":["import React, { useState} from 'react'\nimport Navbar from '../components/Navbar/Navbar'\nimport './SignUpPagina.scss'\nimport { Link, useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport Footer from '../components/Footer/Footer'\n\nconst SignUpPagina = (props) => {\n  \n  let history = useHistory();\n  \n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const registerHandler = async (e) => {\n    e.preventDefault();\n\n    const config = {\n      header: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n\n    if (password !== confirmPassword) {\n      setPassword(\"\");\n      setConfirmPassword(\"\");\n      return setError(\"Passwords do not match\");\n    }\n\n    try {\n      const { data } = await axios.post(\n        \"/api/auth/register\",\n        {\n          username,\n          email,\n          password,\n        },\n        config\n      );\n\n      localStorage.setItem(\"authToken\", data.token);\n\n      history.push(\"/\");\n    } catch (error) {\n      console.log(error)\n      setError(error.response.data.error);\n    }\n  };\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"page-content-wrapper\">\n        <div className=\"signup-main-wrapper\">\n            <h3 className=\"main-heading-signup\">Registrate</h3>\n            <h2 className=\"main-subheading-signup\">Crea tu cuenta, y empieza a crecer tu negocio</h2>\n          <form className=\"the-form\"onSubmit={registerHandler}>\n            {error && <span className=\"register-screen-title\" >{error}</span>}\n            <label className=\"form-label\">Usuario <span>*</span></label>\n            <input className=\"form-input\" \n                  required \n                  id=\"name\" \n                  value={username} \n                  onChange={(e) => setUsername(e.target.value)} \n                  type=\"text\" \n                  placeholder=\"Ingresa tu nombre usuario\"/>\n            \n            <label className=\"form-label\">Email<span> *</span></label>\n            <input className=\"form-input\" \n                  required \n                  id=\"name\" \n                  value={email} \n                  onChange={(e) => setEmail(e.target.value)} \n                  type=\"text\" \n                  placeholder=\"Ingresa tu email\"/>\n\n            <label className=\"form-label\">Contraseña<span> *</span></label>\n            <input className=\"form-input\" \n                  required \n                  id=\"password\" \n                  value={password} \n                  onChange={(e) => setPassword(e.target.value)} \n                  type=\"password\" \n                  placeholder=\"Ingresa tu contaseña\"/>\n            \n            <label className=\"form-label\">Confirmar Contraseña<span> *</span></label>\n            <input className=\"form-input\" \n                  required \n                  id=\"password\" \n                  value={confirmPassword} \n                  onChange={(e) => setConfirmPassword(e.target.value)} \n                  type=\"password\" \n                  placeholder=\"Confirma tu contraseña\"/>\n            \n            <button type=\"submit\" className=\"btn-register\">Registrarme</button>\n            <div className=\"wrapper-sign-in-link\">\n              <p>Ya tienes una cuenta?</p>\n              <Link to=\"/signin\">¡Da click aqui!</Link>\n            </div>\n          </form>\n                  \n        </div>\n      </div>\n    <Footer/>\n    </>\n  )\n}\n\nexport default SignUpPagina;"]},"metadata":{},"sourceType":"module"}