{"ast":null,"code":"var _jsxFileName = \"/Users/flacocodes/Coding/quicken/QuikenFrontend/src/Pages/UserDashboard.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useHistory, Link } from 'react-router-dom';\nimport axios from \"axios\";\nimport \"./UserDashboard.scss\";\nimport Navbar from '../components/Navbar/Navbar';\nimport GuideTable from '../components/UserDashboard/GuideTable';\nimport Footer from '../components/Footer/Footer';\nimport SubNavbar from '../components/Navbar/SubNavbar';\nimport AccountInfo from '../components/Others/AccountInfo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst UserDashboard = () => {\n  _s();\n\n  const [companyName, setCompanyName] = useState('');\n  const [loggedInUser, setLoggedInUser] = useState('');\n  const [loggedInUserEmail, setLoggedInUserEmail] = useState('');\n  const [userGuides, setUserGuides] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [privateData, setPrivateData] = useState(\"\");\n  const history = useHistory();\n  const [userPoints, setUserPoints] = useState(0); //States Dashboard\n\n  const [userSaldo, setUserSaldo] = useState();\n  const [totalRecargas, setTotalRecargas] = useState();\n  const [pesoPromedioGuias, setPesoPromedioGuias] = useState();\n  const [averageCostGuides, setAverageCostGuides] = useState();\n  const [averageCost, setAverageCost] = useState(); //States for quoate\n\n  const [testPackageLength, setTestPackageLength] = useState();\n  const [testPackageWidth, setTestPackageWidth] = useState();\n  const [testPackageHeight, setTestPackageHeight] = useState();\n  const [testPackageWeight, setTestPackageWeight] = useState();\n  const [testReceiverPostalCode, setTestReceiverPostalCode] = useState();\n  const [testSenderPostalCode, setTestSenderPostalCode] = useState(); //Services available\n\n  const [testServices, setTestServices] = useState();\n  const [testQuoteError, setTestQuoteError] = useState();\n  const [hasQuoteError, setHasQuoteError] = useState(false);\n  const [loadingServicios, setLoadingServicios] = useState(true); //Quoate API Call Function\n\n  const calculateGuide = async () => {\n    const url = `${process.env.REACT_APP_API_URL}/rate`;\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        \"clientDetail\": {\n          \"accountName\": localStorage.getItem('email'),\n          \"apiKey\": localStorage.getItem('api_key')\n        },\n        \"origin\": {\n          \"name\": \"testSender\",\n          \"company\": \"Default Value\",\n          \"email\": \"test@gmail.com\",\n          \"phone\": \"55555555\",\n          \"country\": \"MX\",\n          \"postalCode\": testSenderPostalCode\n        },\n        \"destination\": {\n          \"name\": \"testReceiber\",\n          \"company\": \"Default Value\",\n          \"email\": \"test2@gmail.com\",\n          \"phone\": \"88888888\",\n          \"country\": \"MX\",\n          \"postalCode\": testReceiverPostalCode\n        },\n        \"package\": {\n          \"content\": \"ropa\",\n          \"type\": 1,\n          \"dimensions\": {\n            \"length\": parseInt(testPackageLength),\n            \"width\": parseInt(testPackageWidth),\n            \"height\": parseInt(testPackageHeight)\n          },\n          \"weight\": parseInt(testPackageWeight)\n        }\n      })\n    });\n    const data = await response.json();\n    console.log(data);\n\n    if (data.status === \"SUCCESS\") {\n      setTestServices(data.data.services);\n      setLoadingServicios(false);\n      setHasQuoteError(false);\n    } else if (data.status === \"ERROR\") {\n      console.log(data.description);\n      setTestQuoteError(data.description);\n      setHasQuoteError(true);\n      setLoadingServicios(false);\n    }\n  };\n\n  const handleSelectedComponent = event => {\n    console.log(event.target);\n  }; //Handle click on quote button\n\n\n  const handleQuote = async event => {\n    event.preventDefault();\n    await calculateGuide();\n    console.log(testServices);\n  };\n\n  const getAverageCost = async userGuides => {\n    let totalGuideCostSum = 0;\n    console.log(userGuides.length);\n    let counterGuides = await userGuides.length;\n    console.log(counterGuides);\n    userGuides.forEach(guide => {\n      console.log(avgCost);\n      avgCost = totalGuideCostSum + parseInt(guide.guideCost);\n    });\n    let avgCost = totalGuideCostSum / userGuides.length;\n    console.log(avgCost);\n  }; //Get Fetch Guides Function\n\n\n  const loadUserGuides = async currentUser => {\n    console.log('currentUser', currentUser);\n    await fetch(`${process.env.REACT_APP_API_URL}/user/guides`, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => response.json()).then(json => {\n      console.log('Success:', json);\n      console.log(json.data);\n      setUserGuides(json.data.reverse());\n    }).then(() => getAverageCost(userGuides)).catch(error => {\n      console.error('Error:', error);\n    });\n  }; //Fetch Private Data\n\n\n  const fetchPrivateData = async () => {\n    console.log(\"GUACAMOLE\");\n    console.log(localStorage.getItem(\"access_token\"));\n    const config = {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        \"Authorization\": `Bearer ${localStorage.getItem(\"access_token\")}`\n      }\n    };\n\n    try {\n      //AQUI VAN LAS RUTAS DE LAS GUIAS\n      const {\n        data\n      } = await axios.post(`${process.env.REACT_APP_API_URL}/user/info`, {}, config);\n      console.log(data);\n    } catch (error) {\n      localStorage.removeItem(\"authToken\");\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"username\");\n      setError(\"You are not authorized please login\");\n    }\n  };\n\n  useEffect(() => {\n    fetchPrivateData();\n    let currentUser = \"jaimito\";\n    let currentUserEmail = localStorage.getItem('email'); //requestGetPoints(currentUserEmail)\n\n    setLoggedInUser(currentUser);\n    setLoggedInUserEmail(currentUserEmail); //loadUserGuides(currentUserEmail);\n  }, []);\n\n  const logoutHandler = () => {\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('email');\n    localStorage.removeItem('username');\n    history.push('/signin');\n  };\n\n  return error ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper-unauthorized-route\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"unautohorized-heading\",\n        children: \"Esta es una ruta privada. Favor de iniciar sesi\\xF3n.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"link-sign-route\",\n        to: \"/signin\",\n        children: \"Da click aqui!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-wrapper-userdashboard\",\n      children: [/*#__PURE__*/_jsxDEV(AccountInfo, {\n        handleSelectedComponent: handleSelectedComponent,\n        companyName: companyName,\n        loggedInUser: loggedInUser,\n        loggedInUserEmail: loggedInUserEmail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-cotizador-servicios div\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"column-cotizador\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"cotizador-rapido-main-header\",\n            children: \"Cotizador\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"informaci\\xF3n-paquete-subheading\",\n            children: \"Informaci\\xF3n Paquete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"div-main-cotizador-rapido\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"column-cotizador-rapido\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label-paquete-info\",\n                children: \"Largo del paquete (cm)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Largo (cm)\",\n                onChange: event => setTestPackageLength(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label-paquete-info\",\n                children: \"Ancho del paquete (cm)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Ancho (cm)\",\n                onChange: event => setTestPackageWidth(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label-paquete-info\",\n                children: \"Alto del paquete (cm)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Alto (cm)\",\n                onChange: event => setTestPackageHeight(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label-paquete-info\",\n                children: \"Peso del paquete (kg)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Peso (cm)\",\n                onChange: event => setTestPackageWeight(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"column-cotizador-rapido\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label-paquete-info\",\n                children: \"\\xBFDesde d\\xF3nde envias?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Codigo Postal\",\n                onChange: event => setTestSenderPostalCode(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label-paquete-info\",\n                children: \"\\xBFHacia d\\xF3nde envias?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Codigo Postal\",\n                onChange: event => setTestReceiverPostalCode(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cotizador-row-button\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              class: \"button-cotizar-servicios\",\n              onClick: event => handleQuote(event),\n              children: \"Cotizar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"column-cotizador\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"servicios-subheading-cotizador\",\n            children: \"Servicios ofrecidos:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 23\n          }, this), loadingServicios ? /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"servicios-paragraph-cotizador\",\n            children: \"Utiliza nuestro cotizador rapido para ver los servicios de entrega que manejamos.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 43\n          }, this) : hasQuoteError ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: testQuoteError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 41\n          }, this) : testServices.map(servicio => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row-servicio-quota\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Codigo de Servico:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Tipo de Servicio:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Tiempo de Entrega:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Precio:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: servicio.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: servicio.type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: servicio.estimateDelivery\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [\"$\", servicio.totalPrice, \".99\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 27\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-opciones-saldo\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-row-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-dashboard\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label-paquete-info\",\n              children: \"Saldo disponible\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"featured-number\",\n              children: [\"$ \", userPoints, \".00\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"recargar-saldo-link\",\n              to: \"/recargarsaldo\",\n              children: [\"Recagar Saldo \", \">\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-dashboard\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label-paquete-info\",\n              children: \"Costo Promedio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"featured-number\",\n              children: \"$ 0.00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"recargar-saldo-link-trans\",\n              children: [\"Recagar Saldo \", \">\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-row-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-dashboard\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label-paquete-info\",\n              children: \"Total Recargas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"featured-number\",\n              children: [\"$ \", totalRecargas, \".00\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"recargar-saldo-link\",\n              to: \"/recargarsaldo\",\n              children: [\"Recagar Saldo \", \">\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-dashboard\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label-paquete-info\",\n              children: \"Peso Promedio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"featured-number\",\n              children: \"0.00 Kg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"recargar-saldo-link-trans\",\n              children: [\"Recagar Saldo \", \">\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-row-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/recargarsaldo\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-contact-form \",\n              children: \"Recargar Saldo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/createguide\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"blue\",\n              className: \"btn-contact-form \",\n              children: \"Crear Guia\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: logoutHandler,\n            className: \"btn-contact-form \",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"tabla-de-guias-heading\",\n        children: \"Tabla de Guias\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(GuideTable, {\n        userGuides: userGuides\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"div-row-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/createguide\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"blue\",\n            className: \"btn-contact-form\",\n            children: \"Crear Guida\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-contact-form \",\n          onClick: logoutHandler,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true);\n};\n\n_s(UserDashboard, \"G2cdHLc/6m/BMbwrliP0KNGQjpY=\", false, function () {\n  return [useHistory];\n});\n\n_c = UserDashboard;\nexport default UserDashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserDashboard\");","map":{"version":3,"names":["useState","useEffect","useHistory","Link","axios","Navbar","GuideTable","Footer","SubNavbar","AccountInfo","UserDashboard","companyName","setCompanyName","loggedInUser","setLoggedInUser","loggedInUserEmail","setLoggedInUserEmail","userGuides","setUserGuides","error","setError","privateData","setPrivateData","history","userPoints","setUserPoints","userSaldo","setUserSaldo","totalRecargas","setTotalRecargas","pesoPromedioGuias","setPesoPromedioGuias","averageCostGuides","setAverageCostGuides","averageCost","setAverageCost","testPackageLength","setTestPackageLength","testPackageWidth","setTestPackageWidth","testPackageHeight","setTestPackageHeight","testPackageWeight","setTestPackageWeight","testReceiverPostalCode","setTestReceiverPostalCode","testSenderPostalCode","setTestSenderPostalCode","testServices","setTestServices","testQuoteError","setTestQuoteError","hasQuoteError","setHasQuoteError","loadingServicios","setLoadingServicios","calculateGuide","url","process","env","REACT_APP_API_URL","response","fetch","method","headers","body","JSON","stringify","localStorage","getItem","parseInt","data","json","console","log","status","services","description","handleSelectedComponent","event","target","handleQuote","preventDefault","getAverageCost","totalGuideCostSum","length","counterGuides","forEach","guide","avgCost","guideCost","loadUserGuides","currentUser","then","reverse","catch","fetchPrivateData","config","post","removeItem","currentUserEmail","logoutHandler","push","value","map","servicio","name","type","estimateDelivery","totalPrice"],"sources":["/Users/flacocodes/Coding/quicken/QuikenFrontend/src/Pages/UserDashboard.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useHistory, Link } from 'react-router-dom'\nimport axios from \"axios\";\nimport \"./UserDashboard.scss\"\nimport Navbar from '../components/Navbar/Navbar'\nimport GuideTable from '../components/UserDashboard/GuideTable'\nimport Footer from '../components/Footer/Footer'\nimport SubNavbar from '../components/Navbar/SubNavbar'\nimport AccountInfo from '../components/Others/AccountInfo'\n\nconst UserDashboard = () => {   \n\n  const [companyName, setCompanyName] = useState('')\n  const [loggedInUser, setLoggedInUser] = useState('')\n  const [loggedInUserEmail, setLoggedInUserEmail] = useState('')\n  const [userGuides, setUserGuides] = useState([])\n  const [error, setError] = useState(\"\");\n  const [privateData, setPrivateData] = useState(\"\");\n  const history = useHistory();\n  const [userPoints, setUserPoints] = useState(0)\n\n  //States Dashboard\n  const [userSaldo, setUserSaldo] = useState()\n  const [totalRecargas, setTotalRecargas] = useState()\n  const [pesoPromedioGuias, setPesoPromedioGuias] = useState()\n  const [averageCostGuides, setAverageCostGuides] = useState()\n  const [averageCost, setAverageCost] = useState()\n\n  //States for quoate\n  const [testPackageLength, setTestPackageLength] = useState()\n  const [testPackageWidth, setTestPackageWidth] = useState()\n  const [testPackageHeight, setTestPackageHeight] = useState()\n  const [testPackageWeight, setTestPackageWeight] = useState()\n  const [testReceiverPostalCode, setTestReceiverPostalCode] = useState()\n  const [testSenderPostalCode, setTestSenderPostalCode] = useState()\n\n  //Services available\n  const [testServices, setTestServices] = useState()\n  const [testQuoteError, setTestQuoteError] = useState()\n  const [hasQuoteError, setHasQuoteError] = useState(false)\n  const [loadingServicios, setLoadingServicios] = useState(true)\n\n  //Quoate API Call Function\n  const calculateGuide = async () => {\n    const url = `${process.env.REACT_APP_API_URL}/rate`;\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'},\n      body: JSON.stringify({\n          \"clientDetail\": {\n             \"accountName\": localStorage.getItem('email'),\n             \"apiKey\": localStorage.getItem('api_key')\n           },\n           \"origin\": {\n             \"name\": \"testSender\",\n             \"company\": \"Default Value\",\n             \"email\": \"test@gmail.com\",\n             \"phone\": \"55555555\",\n             \"country\": \"MX\",\n             \"postalCode\": testSenderPostalCode\n           },\n           \"destination\": {\n             \"name\": \"testReceiber\",\n             \"company\": \"Default Value\",\n             \"email\": \"test2@gmail.com\",\n             \"phone\": \"88888888\",\n             \"country\": \"MX\",\n             \"postalCode\": testReceiverPostalCode\n           },\n           \"package\": {\n             \"content\": \"ropa\",\n             \"type\": 1,\n             \"dimensions\": {\n               \"length\": parseInt(testPackageLength),\n               \"width\": parseInt(testPackageWidth),\n               \"height\": parseInt(testPackageHeight)\n             },\n             \"weight\": parseInt(testPackageWeight)\n           }\n      })\n    });\n    const data = await response.json();\n    console.log(data)\n    if (data.status === \"SUCCESS\") {\n      setTestServices(data.data.services)\n      setLoadingServicios(false)\n      setHasQuoteError(false)\n      \n    } else if (data.status === \"ERROR\") {\n      console.log(data.description)\n      setTestQuoteError(data.description)\n      setHasQuoteError(true)\n      setLoadingServicios(false)\n    }\n    \n  }\n\n  const handleSelectedComponent = (event) => {\n    console.log(event.target)\n  }\n\n\n  //Handle click on quote button\n  const handleQuote = async (event) => {\n    event.preventDefault()\n    await calculateGuide()\n    console.log(testServices)\n  }\n\n  const getAverageCost = async (userGuides) => {\n    let totalGuideCostSum = 0;\n    console.log(userGuides.length)\n    let counterGuides = await userGuides.length\n    console.log(counterGuides)\n    userGuides.forEach((guide) => {\n      console.log(avgCost)\n      avgCost = totalGuideCostSum + parseInt(guide.guideCost)\n    })\n    let avgCost = totalGuideCostSum / userGuides.length\n    console.log(avgCost)\n  }\n\n\n\n  //Get Fetch Guides Function\n  const loadUserGuides = async (currentUser) => {\n    console.log('currentUser', currentUser)\n    await fetch(`${process.env.REACT_APP_API_URL}/user/guides`, {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    })\n    .then(response => response.json())\n    .then(json =>  {\n      console.log('Success:', json);\n      console.log(json.data)\n      setUserGuides(json.data.reverse())\n    })\n    .then(() => getAverageCost(userGuides))\n    .catch((error) => {\n      console.error('Error:', error);\n    });\n  };\n\n  //Fetch Private Data\n  const fetchPrivateData = async () => {\n    console.log(\"GUACAMOLE\")\n    console.log(localStorage.getItem(\"access_token\"))\n    const config = {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        \"Authorization\": `Bearer ${localStorage.getItem(\"access_token\")}`\n      },\n    };\n\n    try {\n      \n      //AQUI VAN LAS RUTAS DE LAS GUIAS\n      const { data } = await axios.post(`${process.env.REACT_APP_API_URL}/user/info`, {} ,config);\n      console.log(data)\n\n    } catch (error) {\n      localStorage.removeItem(\"authToken\");\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"username\");\n      setError(\"You are not authorized please login\");\n    }\n\n  };\n\n  useEffect(() => {\n    fetchPrivateData();\n    let currentUser = \"jaimito\"\n    let currentUserEmail = localStorage.getItem('email')\n    //requestGetPoints(currentUserEmail)\n    setLoggedInUser(currentUser)\n    setLoggedInUserEmail(currentUserEmail)\n    //loadUserGuides(currentUserEmail);\n  }, []);\n\n  const logoutHandler = () => {\n      localStorage.removeItem('authToken');\n      localStorage.removeItem('email');\n      localStorage.removeItem('username');\n      \n      history.push('/signin')\n  }\n\n  return error ? (\n    <>\n      <Navbar/>\n      <div className=\"wrapper-unauthorized-route\">\n        <h1 className=\"unautohorized-heading\">Esta es una ruta privada. Favor de iniciar sesión.</h1>\n        <Link className=\"link-sign-route\" to=\"/signin\">Da click aqui!</Link>\n      </div>\n      {/* <span className=\"error-message\">{error}</span> */}\n      <Footer/>\n    </>\n  ) : (\n    <>  \n        <Navbar/>\n            {/* <div className=\"sub-navbar\">\n              <Link className=\"link-subnavbar\">Inicio</Link>\n              <Link className=\"link-subnavbar\">Cotizar</Link>\n              <Link className=\"link-subnavbar\">Guias</Link>\n              <Link className=\"link-subnavbar\" to=\"/recargarsaldo\">Recarga Saldo</Link>\n              <Link onClick={logoutHandler} className=\"link-subnavbar\">Logout</Link>\n            </div>\n\n            <SubNavbar handleSelectedComponent={handleSelectedComponent} logoutHandler={logoutHandler}/> */}\n\n            <div className=\"main-wrapper-userdashboard\">\n                <AccountInfo handleSelectedComponent={handleSelectedComponent} companyName={companyName} loggedInUser={loggedInUser} loggedInUserEmail={loggedInUserEmail} />\n                \n                {/* <div className=\"account-info-wrapper\">\n                  <h2 className=\"heading-userdashboards\">Dashboard de Enviós</h2>\n                  <div className=\"account-name\">Cuenta: {loggedInUser}</div>\n                  <div className=\"account-name\">Email: {loggedInUserEmail}</div>\n                </div> */}\n\n              \n              <div className=\"main-cotizador-servicios div\">\n                {/* Cotizador */}\n                <div className=\"column-cotizador\">\n                <h1 className=\"cotizador-rapido-main-header\">Cotizador</h1>\n                      <h1 className=\"información-paquete-subheading\">Información Paquete</h1>\n                      \n                      <div className=\"div-main-cotizador-rapido\">  \n                        <div className=\"column-cotizador-rapido\">\n                          <label className=\"label-paquete-info\">Largo del paquete (cm)</label>\n                          <input placeholder=\"Largo (cm)\"\n                          onChange={(event) => setTestPackageLength(event.target.value)}\n                          />\n\n                          <label className=\"label-paquete-info\">Ancho del paquete (cm)</label>\n                          <input placeholder=\"Ancho (cm)\"\n                          onChange={(event) => setTestPackageWidth(event.target.value)}\n                          />\n\n                          <label className=\"label-paquete-info\">Alto del paquete (cm)</label>\n                          <input placeholder=\"Alto (cm)\"\n                          onChange={(event) => setTestPackageHeight(event.target.value)}\n                          />\n\n                          <label className=\"label-paquete-info\">Peso del paquete (kg)</label>\n                          <input placeholder=\"Peso (cm)\"\n                          onChange={(event) => setTestPackageWeight(event.target.value)}\n                          />\n\n                        </div>\n                        \n                        <div className=\"column-cotizador-rapido\">\n                        <label className=\"label-paquete-info\">¿Desde dónde envias?</label>\n                          <input placeholder=\"Codigo Postal\"\n                          onChange={(event) => setTestSenderPostalCode(event.target.value)}\n                          />\n\n                          <label className=\"label-paquete-info\">¿Hacia dónde envias?</label>\n                          <input placeholder=\"Codigo Postal\"\n                          onChange={(event) => setTestReceiverPostalCode(event.target.value)}\n                          />\n                        </div>\n                        \n                    </div>\n                      <div className=\"cotizador-row-button\">\n                        <button class=\"button-cotizar-servicios\"onClick={(event) => handleQuote(event)}>Cotizar</button>\n                      </div>\n                </div>\n\n\n                {/* Empieza aqui */}\n                <div className=\"column-cotizador\">\n                      <h1 className=\"servicios-subheading-cotizador\">Servicios ofrecidos:</h1>\n                      {loadingServicios ? <h1 className=\"servicios-paragraph-cotizador\">Utiliza nuestro cotizador rapido para ver los servicios de entrega que manejamos.</h1> : \n                        hasQuoteError ? <div>{testQuoteError}</div> : \n                      \n      \n                      testServices.map((servicio) => {\n                        return (\n                          <div className=\"row-servicio-quota\">\n                            <table>\n                              <tr>\n                                <th>Codigo de Servico:</th>\n                                <th>Tipo de Servicio:</th>\n                                <th>Tiempo de Entrega:</th>\n                                <th>Precio:</th>\n                              </tr>\n                              <tr>\n                                <td>{servicio.name}</td>\n                                <td>{servicio.type}</td>\n                                <td>{servicio.estimateDelivery}</td>\n                                <td>${servicio.totalPrice}.99</td>\n                              </tr>\n                            </table>\n                          </div>\n                        )\n                      })}\n                      \n                </div>\n                {/* Termina Aqui */}\n\n              </div>\n\n              <div className=\"menu-opciones-saldo\">\n                \n                <div className=\"card-row-wrapper\">\n                  <div className=\"card-dashboard\">\n                    <label className=\"label-paquete-info\">Saldo disponible</label>\n                    <h1 className=\"featured-number\">$ {userPoints}.00</h1>\n                    <Link className=\"recargar-saldo-link\" to=\"/recargarsaldo\">\n                      Recagar Saldo {\">\"}\n                    </Link>\n                  </div>\n                  <div className=\"card-dashboard\">\n                    <label className=\"label-paquete-info\">Costo Promedio</label>\n                    <h1 className=\"featured-number\">$ 0.00</h1>\n                    <Link className=\"recargar-saldo-link-trans\" >Recagar Saldo {\">\"}</Link>\n                  </div>\n                </div>\n\n                <div className=\"card-row-wrapper\">\n                  <div className=\"card-dashboard\">\n                    <label className=\"label-paquete-info\">Total Recargas</label>\n                    <h1 className=\"featured-number\">$ {totalRecargas}.00</h1>\n                    <Link className=\"recargar-saldo-link\" to=\"/recargarsaldo\">Recagar Saldo {\">\"}</Link>\n                  </div>\n                  <div className=\"card-dashboard\">\n                    <label className=\"label-paquete-info\">Peso Promedio</label>\n                    <h1 className=\"featured-number\">0.00 Kg</h1>\n                    <Link className=\"recargar-saldo-link-trans\" >Recagar Saldo {\">\"}</Link>\n                  </div>\n                </div>\n\n                <div className=\"card-row-wrapper\">\n                  <Link to=\"/recargarsaldo\">\n                    <button className=\"btn-contact-form \">Recargar Saldo</button>        \n                  </Link>\n                  <Link to=\"/createguide\">\n                    <button id=\"blue\" className=\"btn-contact-form \">Crear Guia</button>\n                  </Link>\n                  \n                    <button onClick={logoutHandler} className=\"btn-contact-form \">Logout</button>\n                  \n                </div>\n\n              </div>\n\n              <h1 className=\"tabla-de-guias-heading\">Tabla de Guias</h1>  \n              <GuideTable userGuides={userGuides}/>\n              \n              <div className=\"div-row-wrapper\">\n                <Link to=\"/createguide\">\n                  <button id=\"blue\" className=\"btn-contact-form\">Crear Guida</button>\n                </Link>\n                <button className=\"btn-contact-form \" onClick={logoutHandler}>Logout</button>\n              </div>\n            </div>\n          <Footer/>\n        \n    </>\n  );\n};\n\nexport default UserDashboard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}