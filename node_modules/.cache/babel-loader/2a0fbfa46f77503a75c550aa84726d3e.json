{"ast":null,"code":"import _regeneratorRuntime from\"/home/julianallende/Desktop/proyecto_sapo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/julianallende/Desktop/proyecto_sapo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/julianallende/Desktop/proyecto_sapo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import axios from\"axios\";import\"./ForgotPasswordPagina.scss\";import Navbar from'../components/Navbar/Navbar';import Footer from'../components/Footer/Footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ForgotPasswordScreen=function ForgotPasswordScreen(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];var forgotPasswordHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();config={header:{\"Content-Type\":\"application/json\"}};_context.prev=2;_context.next=5;return axios.post(\"/api/auth/forgotpassword\",{email:email},config);case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;setSuccess(data.data);_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);setError(_context.t0.response.data.error);setEmail(\"\");case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function forgotPasswordHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"forgotpassword-screen\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:forgotPasswordHandler,className:\"forgotpassword-screen__form\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"forgotpassword-screen__title\",children:\"Forgot Password\"}),error&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:error}),success&&/*#__PURE__*/_jsx(\"span\",{className:\"success-message\",children:success}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"forgotpassword-screen__subtext\",children:[\"Please enter the email address you register your account with.\",/*#__PURE__*/_jsx(\"br\",{}),\" We will send you reset password confirmation to this email\"]}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",type:\"email\",required:true,id:\"email\",placeholder:\"Email address\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{id:\"btn\",type:\"submit\",className:\"btn-contact-form\",children:\"Send\"})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default ForgotPasswordScreen;","map":{"version":3,"sources":["/home/julianallende/Desktop/proyecto_sapo/client/src/Pages/ForgotPasswordPagina.js"],"names":["useState","axios","Navbar","Footer","ForgotPasswordScreen","email","setEmail","error","setError","success","setSuccess","forgotPasswordHandler","e","preventDefault","config","header","post","data","response","target","value"],"mappings":"kfAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,6BAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,6BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,6BAAnB,C,6IAGA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,eACPJ,QAAQ,CAAC,EAAD,CADD,wCAC1BK,KAD0B,eACnBC,QADmB,8BAEPN,QAAQ,CAAC,EAAD,CAFD,yCAE1BO,KAF0B,eAEnBC,QAFmB,8BAGHR,QAAQ,CAAC,EAAD,CAHL,yCAG1BS,OAH0B,eAGjBC,UAHiB,eAKjC,GAAMC,CAAAA,qBAAqB,0FAAG,iBAAOC,CAAP,oJAC5BA,CAAC,CAACC,cAAF,GAEMC,MAHsB,CAGb,CACbC,MAAM,CAAE,CACN,eAAgB,kBADV,CADK,CAHa,uCAUHd,CAAAA,KAAK,CAACe,IAAN,CACrB,0BADqB,CAErB,CAAEX,KAAK,CAALA,KAAF,CAFqB,CAGrBS,MAHqB,CAVG,wCAUlBG,IAVkB,mBAUlBA,IAVkB,CAgB1BP,UAAU,CAACO,IAAI,CAACA,IAAN,CAAV,CAhB0B,iFAkB1BT,QAAQ,CAAC,YAAMU,QAAN,CAAeD,IAAf,CAAoBV,KAArB,CAAR,CACAD,QAAQ,CAAC,EAAD,CAAR,CAnB0B,qEAAH,kBAArBK,CAAAA,qBAAqB,4CAA3B,CAuBA,mBACE,wCACE,KAAC,MAAD,IADF,cAEE,YAAK,SAAS,CAAC,uBAAf,uBACE,cACE,QAAQ,CAAEA,qBADZ,CAEE,SAAS,CAAC,6BAFZ,wBAIE,WAAI,SAAS,CAAC,8BAAd,6BAJF,CAKGJ,KAAK,eAAI,aAAM,SAAS,CAAC,eAAhB,UAAiCA,KAAjC,EALZ,CAMGE,OAAO,eAAI,aAAM,SAAS,CAAC,iBAAhB,UAAmCA,OAAnC,EANd,cAOE,aAAK,SAAS,CAAC,YAAf,wBACE,WAAG,SAAS,CAAC,gCAAb,yFACgE,aADhE,iEADF,cAKE,cAAO,SAAS,CAAC,YAAjB,CAA8B,OAAO,CAAC,OAAtC,oBALF,cAME,cACE,SAAS,CAAC,YADZ,CAEE,IAAI,CAAC,OAFP,CAGE,QAAQ,KAHV,CAIE,EAAE,CAAC,OAJL,CAKE,WAAW,CAAC,eALd,CAME,KAAK,CAAEJ,KANT,CAOE,QAAQ,CAAE,kBAACO,CAAD,QAAON,CAAAA,QAAQ,CAACM,CAAC,CAACO,MAAF,CAASC,KAAV,CAAf,EAPZ,EANF,GAPF,cAuBE,eAAQ,EAAE,CAAC,KAAX,CAAiB,IAAI,CAAC,QAAtB,CAA+B,SAAS,CAAC,kBAAzC,kBAvBF,GADF,EAFF,cA+BE,KAAC,MAAD,IA/BF,GADF,CAmCD,CA/DD,CAiEA,cAAehB,CAAAA,oBAAf","sourcesContent":["import { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./ForgotPasswordPagina.scss\";\nimport Navbar from '../components/Navbar/Navbar'\nimport Footer from '../components/Footer/Footer'\n\n\nconst ForgotPasswordScreen = () => {\n  const [email, setEmail] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n\n  const forgotPasswordHandler = async (e) => {\n    e.preventDefault();\n\n    const config = {\n      header: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n\n    try {\n      const { data } = await axios.post(\n        \"/api/auth/forgotpassword\",\n        { email },\n        config\n      );\n\n      setSuccess(data.data);\n    } catch (error) {\n      setError(error.response.data.error);\n      setEmail(\"\");\n    }\n  };\n\n  return (\n    <>\n      <Navbar/>\n      <div className=\"forgotpassword-screen\">\n        <form\n          onSubmit={forgotPasswordHandler}\n          className=\"forgotpassword-screen__form\"\n        >\n          <h3 className=\"forgotpassword-screen__title\">Forgot Password</h3>\n          {error && <span className=\"error-message\">{error}</span>}\n          {success && <span className=\"success-message\">{success}</span>}\n          <div className=\"form-group\">\n            <p className=\"forgotpassword-screen__subtext\">\n              Please enter the email address you register your account with.<br/> We\n              will send you reset password confirmation to this email\n            </p>\n            <label className=\"form-label\" htmlFor=\"email\">Email:</label>\n            <input\n              className=\"form-input\"\n              type=\"email\"\n              required\n              id=\"email\"\n              placeholder=\"Email address\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n          </div>\n          <button id=\"btn\" type=\"submit\" className=\"btn-contact-form\">\n            Send\n          </button>\n        </form>\n      </div>\n      <Footer/>\n    </>\n  );\n};\n\nexport default ForgotPasswordScreen;"]},"metadata":{},"sourceType":"module"}