{"ast":null,"code":"var _jsxFileName = \"/Users/flacocodes/Coding/quicken/QuikenFrontend/src/Pages/UserDashboard.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useHistory, Link } from 'react-router-dom';\nimport axios from \"axios\";\nimport \"./UserDashboard.scss\";\nimport Navbar from '../components/Navbar/Navbar';\nimport GuideTable from '../components/UserDashboard/GuideTable';\nimport Footer from '../components/Footer/Footer';\nimport SubNavbar from '../components/Navbar/SubNavbar';\nimport AccountInfo from '../components/Others/AccountInfo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst UserDashboard = () => {\n  _s();\n\n  //Dashboard Moving\n  const [selectedScreen, setSelectedScreen] = useState(\"dashboard\");\n  const [loggedInUser, setLoggedInUser] = useState('');\n  const [loggedInUserEmail, setLoggedInUserEmail] = useState('');\n  const [userGuides, setUserGuides] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [privateData, setPrivateData] = useState(\"\");\n  const history = useHistory();\n  const [userPoints, setUserPoints] = useState(0); //States Dashboard\n\n  const [userSaldo, setUserSaldo] = useState();\n  const [totalRecargas, setTotalRecargas] = useState();\n  const [pesoPromedioGuias, setPesoPromedioGuias] = useState();\n  const [averageCostGuides, setAverageCostGuides] = useState();\n  const [averageCost, setAverageCost] = useState(); //States for quoate\n\n  const [testPackageLength, setTestPackageLength] = useState();\n  const [testPackageWidth, setTestPackageWidth] = useState();\n  const [testPackageHeight, setTestPackageHeight] = useState();\n  const [testPackageWeight, setTestPackageWeight] = useState();\n  const [testReceiverPostalCode, setTestReceiverPostalCode] = useState();\n  const [testSenderPostalCode, setTestSenderPostalCode] = useState(); //Services available\n\n  const [testServices, setTestServices] = useState();\n  const [testQuoteError, setTestQuoteError] = useState();\n  const [hasQuoteError, setHasQuoteError] = useState(false);\n  const [loadingServicios, setLoadingServicios] = useState(true); //Quoate API Call Function\n\n  const calculateGuide = async () => {\n    const url = 'https://api.quiken.mx/rate';\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        \"clientDetail\": {\n          \"accountName\": localStorage.getItem('email'),\n          \"apiKey\": localStorage.getItem('api_keys')\n        },\n        \"origin\": {\n          \"name\": \"testSender\",\n          \"company\": \"Default Value\",\n          \"email\": \"test@gmail.com\",\n          \"phone\": \"55555555\",\n          \"country\": \"MX\",\n          \"postalCode\": testSenderPostalCode\n        },\n        \"destination\": {\n          \"name\": \"testReceiber\",\n          \"company\": \"Default Value\",\n          \"email\": \"test2@gmail.com\",\n          \"phone\": \"88888888\",\n          \"country\": \"MX\",\n          \"postalCode\": testReceiverPostalCode\n        },\n        \"package\": {\n          \"content\": \"ropa\",\n          \"type\": 1,\n          \"dimensions\": {\n            \"length\": parseInt(testPackageLength),\n            \"width\": parseInt(testPackageWidth),\n            \"height\": parseInt(testPackageHeight)\n          },\n          \"weight\": parseInt(testPackageWeight)\n        }\n      })\n    });\n    const data = await response.json();\n    console.log(data);\n\n    if (data.status === \"SUCCESS\") {\n      setTestServices(data.data.services);\n      setLoadingServicios(false);\n      setHasQuoteError(false);\n    } else if (data.status === \"ERROR\") {\n      console.log(data.description);\n      setTestQuoteError(data.description);\n      setHasQuoteError(true);\n      setLoadingServicios(false);\n    }\n  };\n\n  const handleSelectedComponent = event => {\n    console.log(event.target);\n  }; //Handle click on quote button\n\n\n  const handleQuote = async event => {\n    event.preventDefault();\n    await calculateGuide();\n    console.log(testServices);\n  };\n\n  const getAverageCost = async userGuides => {\n    let totalGuideCostSum = 0;\n    console.log(userGuides.length);\n    let counterGuides = await userGuides.length;\n    console.log(counterGuides);\n    userGuides.forEach(guide => {\n      console.log(avgCost);\n      avgCost = totalGuideCostSum + parseInt(guide.guideCost);\n    });\n    let avgCost = totalGuideCostSum / userGuides.length;\n    console.log(avgCost);\n  }; //Get Fetch Guides Function\n\n\n  const loadUserGuides = async currentUser => {\n    console.log('currentUser', currentUser);\n    await fetch(`/user/guides`, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => response.json()).then(json => {\n      console.log('Success:', json);\n      console.log(json.data);\n      setUserGuides(json.data.reverse());\n    }).then(() => getAverageCost(userGuides)).catch(error => {\n      console.error('Error:', error);\n    });\n  }; //Fetch Private Data\n\n\n  const fetchPrivateDate = async () => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`\n      }\n    };\n\n    try {\n      //AQUI VAN LAS RUTAS DE LAS GUIAS\n      const {\n        data\n      } = await axios.get(\"/api/private\", config);\n      setPrivateData(data.data);\n    } catch (error) {\n      localStorage.removeItem(\"authToken\");\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"username\");\n      setError(\"You are not authorized please login\");\n    }\n  }; // //Get Userpoints\n  // const requestGetPoints = async (username) => {\n  //   const url = 'api/user/getPoints/'\n  //   console.log(username, 'RUNNING THIS')\n  //   const response = await fetch(url, {\n  //       method: \"POST\",\n  //       headers: {\n  //           'Content-Type': 'application/json',\n  //         },\n  //       body: JSON.stringify ({\n  //           'username': username\n  //       })\n  //   });\n  //   const data = await response.json()\n  //   console.log(data)\n  //   console.log(response.status, 'STATUS')\n  //   if (response.status === 200) {\n  //       setUserPoints(data.data[0].points)\n  //       // setTotalRecargas(data.data[0].recargas)\n  //   }\n  // }\n\n\n  useEffect(() => {\n    fetchPrivateDate();\n    let currentUser = localStorage.getItem('username');\n    let currentUserEmail = localStorage.getItem('email'); //requestGetPoints(currentUserEmail)\n\n    setLoggedInUser(currentUser);\n    setLoggedInUserEmail(currentUserEmail);\n    loadUserGuides(currentUserEmail);\n  }, []);\n\n  const logoutHandler = () => {\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('email');\n    localStorage.removeItem('username');\n    history.push('/signin');\n  };\n\n  return error ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper-unauthorized-route\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"unautohorized-heading\",\n        children: \"Esta es una ruta privada. Favor de iniciar sesi\\xF3n.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"link-sign-route\",\n        to: \"/signin\",\n        children: \"Da click aqui!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-wrapper-userdashboard\",\n      children: [/*#__PURE__*/_jsxDEV(AccountInfo, {\n        handleSelectedComponent: handleSelectedComponent,\n        loggedInUser: loggedInUser,\n        loggedInUserEmail: loggedInUserEmail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-cotizador-servicios div\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"column-cotizador\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"cotizador-rapido-main-header\",\n            children: \"Cotizador\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"informaci\\xF3n-paquete-subheading\",\n            children: \"Informaci\\xF3n Paquete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"div-main-cotizador-rapido\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"column-cotizador-rapido\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label-paquete-info\",\n                children: \"Largo del paquete (cm)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Largo (cm)\",\n                onChange: event => setTestPackageLength(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label-paquete-info\",\n                children: \"Ancho del paquete (cm)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Ancho (cm)\",\n                onChange: event => setTestPackageWidth(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label-paquete-info\",\n                children: \"Alto del paquete (cm)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Alto (cm)\",\n                onChange: event => setTestPackageHeight(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label-paquete-info\",\n                children: \"Peso del paquete (kg)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Peso (cm)\",\n                onChange: event => setTestPackageWeight(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"column-cotizador-rapido\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label-paquete-info\",\n                children: \"\\xBFDesde d\\xF3nde envias?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Codigo Postal\",\n                onChange: event => setTestSenderPostalCode(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label-paquete-info\",\n                children: \"\\xBFHacia d\\xF3nde envias?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Codigo Postal\",\n                onChange: event => setTestReceiverPostalCode(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cotizador-row-button\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              class: \"button-cotizar-servicios\",\n              onClick: event => handleQuote(event),\n              children: \"Cotizar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"column-cotizador\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"servicios-subheading-cotizador\",\n            children: \"Servicios ofrecidos:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 23\n          }, this), loadingServicios ? /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"servicios-paragraph-cotizador\",\n            children: \"Utiliza nuestro cotizador rapido para ver los servicios de entrega que manejamos.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 43\n          }, this) : hasQuoteError ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: testQuoteError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 41\n          }, this) : testServices.map(servicio => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row-servicio-quota\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Codigo de Servico:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Tipo de Servicio:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Tiempo de Entrega:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Precio:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: servicio.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: servicio.type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: servicio.estimateDelivery\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [\"$\", servicio.totalPrice, \".99\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 27\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-opciones-saldo\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-row-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-dashboard\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label-paquete-info\",\n              children: \"Saldo disponible\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"featured-number\",\n              children: [\"$ \", userPoints, \".00\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"recargar-saldo-link\",\n              to: \"/recargarsaldo\",\n              children: [\"Recagar Saldo \", \">\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-dashboard\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label-paquete-info\",\n              children: \"Costo Promedio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"featured-number\",\n              children: \"$ 0.00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"recargar-saldo-link-trans\",\n              children: [\"Recagar Saldo \", \">\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-row-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-dashboard\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label-paquete-info\",\n              children: \"Total Recargas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"featured-number\",\n              children: [\"$ \", totalRecargas, \".00\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"recargar-saldo-link\",\n              to: \"/recargarsaldo\",\n              children: [\"Recagar Saldo \", \">\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-dashboard\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label-paquete-info\",\n              children: \"Peso Promedio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"featured-number\",\n              children: \"0.00 Kg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"recargar-saldo-link-trans\",\n              children: [\"Recagar Saldo \", \">\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-row-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/recargarsaldo\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-contact-form \",\n              children: \"Recargar Saldo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/createguide\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"blue\",\n              className: \"btn-contact-form \",\n              children: \"Crear Guia\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: logoutHandler,\n            className: \"btn-contact-form \",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"tabla-de-guias-heading\",\n        children: \"Tabla de Guias\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(GuideTable, {\n        userGuides: userGuides\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"div-row-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/createguide\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"blue\",\n            className: \"btn-contact-form\",\n            children: \"Crear Guida\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-contact-form \",\n          onClick: logoutHandler,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true);\n};\n\n_s(UserDashboard, \"RUZWvXwbcGys7bW/7lXJtb0LSPU=\", false, function () {\n  return [useHistory];\n});\n\n_c = UserDashboard;\nexport default UserDashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserDashboard\");","map":{"version":3,"sources":["/Users/flacocodes/Coding/quicken/QuikenFrontend/src/Pages/UserDashboard.js"],"names":["useState","useEffect","useHistory","Link","axios","Navbar","GuideTable","Footer","SubNavbar","AccountInfo","UserDashboard","selectedScreen","setSelectedScreen","loggedInUser","setLoggedInUser","loggedInUserEmail","setLoggedInUserEmail","userGuides","setUserGuides","error","setError","privateData","setPrivateData","history","userPoints","setUserPoints","userSaldo","setUserSaldo","totalRecargas","setTotalRecargas","pesoPromedioGuias","setPesoPromedioGuias","averageCostGuides","setAverageCostGuides","averageCost","setAverageCost","testPackageLength","setTestPackageLength","testPackageWidth","setTestPackageWidth","testPackageHeight","setTestPackageHeight","testPackageWeight","setTestPackageWeight","testReceiverPostalCode","setTestReceiverPostalCode","testSenderPostalCode","setTestSenderPostalCode","testServices","setTestServices","testQuoteError","setTestQuoteError","hasQuoteError","setHasQuoteError","loadingServicios","setLoadingServicios","calculateGuide","url","response","fetch","method","headers","body","JSON","stringify","localStorage","getItem","parseInt","data","json","console","log","status","services","description","handleSelectedComponent","event","target","handleQuote","preventDefault","getAverageCost","totalGuideCostSum","length","counterGuides","forEach","guide","avgCost","guideCost","loadUserGuides","currentUser","then","reverse","catch","fetchPrivateDate","config","Authorization","get","removeItem","currentUserEmail","logoutHandler","push","value","map","servicio","name","type","estimateDelivery","totalPrice"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useHistory, Link } from 'react-router-dom'\nimport axios from \"axios\";\nimport \"./UserDashboard.scss\"\nimport Navbar from '../components/Navbar/Navbar'\nimport GuideTable from '../components/UserDashboard/GuideTable'\nimport Footer from '../components/Footer/Footer'\nimport SubNavbar from '../components/Navbar/SubNavbar'\nimport AccountInfo from '../components/Others/AccountInfo'\n\nconst UserDashboard = () => {   \n\n\n  //Dashboard Moving\n  const [selectedScreen, setSelectedScreen] = useState(\"dashboard\")\n\n  const [loggedInUser, setLoggedInUser] = useState('')\n  const [loggedInUserEmail, setLoggedInUserEmail] = useState('')\n  const [userGuides, setUserGuides] = useState([])\n  const [error, setError] = useState(\"\");\n  const [privateData, setPrivateData] = useState(\"\");\n  const history = useHistory();\n  const [userPoints, setUserPoints] = useState(0)\n\n  //States Dashboard\n  const [userSaldo, setUserSaldo] = useState()\n  const [totalRecargas, setTotalRecargas] = useState()\n  const [pesoPromedioGuias, setPesoPromedioGuias] = useState()\n  const [averageCostGuides, setAverageCostGuides] = useState()\n  const [averageCost, setAverageCost] = useState()\n\n  //States for quoate\n  const [testPackageLength, setTestPackageLength] = useState()\n  const [testPackageWidth, setTestPackageWidth] = useState()\n  const [testPackageHeight, setTestPackageHeight] = useState()\n  const [testPackageWeight, setTestPackageWeight] = useState()\n  const [testReceiverPostalCode, setTestReceiverPostalCode] = useState()\n  const [testSenderPostalCode, setTestSenderPostalCode] = useState()\n\n  //Services available\n  const [testServices, setTestServices] = useState()\n  const [testQuoteError, setTestQuoteError] = useState()\n  const [hasQuoteError, setHasQuoteError] = useState(false)\n  const [loadingServicios, setLoadingServicios] = useState(true)\n\n  //Quoate API Call Function\n  const calculateGuide = async () => {\n    const url = 'https://api.quiken.mx/rate';\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {'Content-type': 'application/json'},\n      body: JSON.stringify({\n          \"clientDetail\": {\n             \"accountName\": localStorage.getItem('email'),\n             \"apiKey\": localStorage.getItem('api_keys')\n           },\n           \"origin\": {\n             \"name\": \"testSender\",\n             \"company\": \"Default Value\",\n             \"email\": \"test@gmail.com\",\n             \"phone\": \"55555555\",\n             \"country\": \"MX\",\n             \"postalCode\": testSenderPostalCode\n           },\n           \"destination\": {\n             \"name\": \"testReceiber\",\n             \"company\": \"Default Value\",\n             \"email\": \"test2@gmail.com\",\n             \"phone\": \"88888888\",\n             \"country\": \"MX\",\n             \"postalCode\": testReceiverPostalCode\n           },\n           \"package\": {\n             \"content\": \"ropa\",\n             \"type\": 1,\n             \"dimensions\": {\n               \"length\": parseInt(testPackageLength),\n               \"width\": parseInt(testPackageWidth),\n               \"height\": parseInt(testPackageHeight)\n             },\n             \"weight\": parseInt(testPackageWeight)\n           }\n      })\n    });\n    const data = await response.json();\n    console.log(data)\n    if (data.status === \"SUCCESS\") {\n      setTestServices(data.data.services)\n      setLoadingServicios(false)\n      setHasQuoteError(false)\n      \n    } else if (data.status === \"ERROR\") {\n      console.log(data.description)\n      setTestQuoteError(data.description)\n      setHasQuoteError(true)\n      setLoadingServicios(false)\n    }\n    \n  }\n\n  const handleSelectedComponent = (event) => {\n    console.log(event.target)\n  }\n\n\n  //Handle click on quote button\n  const handleQuote = async (event) => {\n    event.preventDefault()\n    await calculateGuide()\n    console.log(testServices)\n  }\n\n  const getAverageCost = async (userGuides) => {\n    let totalGuideCostSum = 0;\n    console.log(userGuides.length)\n    let counterGuides = await userGuides.length\n    console.log(counterGuides)\n    userGuides.forEach((guide) => {\n      console.log(avgCost)\n      avgCost = totalGuideCostSum + parseInt(guide.guideCost)\n    })\n    let avgCost = totalGuideCostSum / userGuides.length\n    console.log(avgCost)\n  }\n\n\n\n  //Get Fetch Guides Function\n  const loadUserGuides = async (currentUser) => {\n    console.log('currentUser', currentUser)\n    await fetch(`/user/guides`, {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    })\n    .then(response => response.json())\n    .then(json =>  {\n      console.log('Success:', json);\n      console.log(json.data)\n      setUserGuides(json.data.reverse())\n    })\n    .then(() => getAverageCost(userGuides))\n    .catch((error) => {\n      console.error('Error:', error);\n    });\n  };\n\n  //Fetch Private Data\n  const fetchPrivateDate = async () => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n      },\n    };\n    try {\n      \n      //AQUI VAN LAS RUTAS DE LAS GUIAS\n      const { data } = await axios.get(\"/api/private\", config);\n      setPrivateData(data.data);\n\n    } catch (error) {\n      localStorage.removeItem(\"authToken\");\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"username\");\n      setError(\"You are not authorized please login\");\n    }\n\n  };\n\n  // //Get Userpoints\n  // const requestGetPoints = async (username) => {\n  //   const url = 'api/user/getPoints/'\n  //   console.log(username, 'RUNNING THIS')\n    \n  //   const response = await fetch(url, {\n  //       method: \"POST\",\n  //       headers: {\n  //           'Content-Type': 'application/json',\n  //         },\n  //       body: JSON.stringify ({\n  //           'username': username\n  //       })\n  //   });\n    \n  //   const data = await response.json()\n  //   console.log(data)\n  //   console.log(response.status, 'STATUS')\n  //   if (response.status === 200) {\n  //       setUserPoints(data.data[0].points)\n  //       // setTotalRecargas(data.data[0].recargas)\n  //   }\n    \n    \n  // }\n\n\n  useEffect(() => {\n    fetchPrivateDate();\n    let currentUser = localStorage.getItem('username')\n    let currentUserEmail = localStorage.getItem('email')\n    //requestGetPoints(currentUserEmail)\n    setLoggedInUser(currentUser)\n    setLoggedInUserEmail(currentUserEmail)\n    loadUserGuides(currentUserEmail);\n  }, []);\n\n  const logoutHandler = () => {\n      localStorage.removeItem('authToken');\n      localStorage.removeItem('email');\n      localStorage.removeItem('username');\n      \n\n      history.push('/signin')\n  }\n\n  return error ? (\n    <>\n      <Navbar/>\n      <div className=\"wrapper-unauthorized-route\">\n        <h1 className=\"unautohorized-heading\">Esta es una ruta privada. Favor de iniciar sesión.</h1>\n        <Link className=\"link-sign-route\" to=\"/signin\">Da click aqui!</Link>\n      </div>\n      {/* <span className=\"error-message\">{error}</span> */}\n      <Footer/>\n    </>\n  ) : (\n    <>  \n        <Navbar/>\n            {/* <div className=\"sub-navbar\">\n              <Link className=\"link-subnavbar\">Inicio</Link>\n              <Link className=\"link-subnavbar\">Cotizar</Link>\n              <Link className=\"link-subnavbar\">Guias</Link>\n              <Link className=\"link-subnavbar\" to=\"/recargarsaldo\">Recarga Saldo</Link>\n              <Link onClick={logoutHandler} className=\"link-subnavbar\">Logout</Link>\n            </div>\n\n            <SubNavbar handleSelectedComponent={handleSelectedComponent} logoutHandler={logoutHandler}/> */}\n\n            <div className=\"main-wrapper-userdashboard\">\n                <AccountInfo handleSelectedComponent={handleSelectedComponent} loggedInUser={loggedInUser} loggedInUserEmail={loggedInUserEmail} />\n                \n                {/* <div className=\"account-info-wrapper\">\n                  <h2 className=\"heading-userdashboards\">Dashboard de Enviós</h2>\n                  <div className=\"account-name\">Cuenta: {loggedInUser}</div>\n                  <div className=\"account-name\">Email: {loggedInUserEmail}</div>\n                </div> */}\n\n              \n              <div className=\"main-cotizador-servicios div\">\n                {/* Cotizador */}\n                <div className=\"column-cotizador\">\n                <h1 className=\"cotizador-rapido-main-header\">Cotizador</h1>\n                      <h1 className=\"información-paquete-subheading\">Información Paquete</h1>\n                      \n                      <div className=\"div-main-cotizador-rapido\">  \n                        <div className=\"column-cotizador-rapido\">\n                          <label className=\"label-paquete-info\">Largo del paquete (cm)</label>\n                          <input placeholder=\"Largo (cm)\"\n                          onChange={(event) => setTestPackageLength(event.target.value)}\n                          />\n\n                          <label className=\"label-paquete-info\">Ancho del paquete (cm)</label>\n                          <input placeholder=\"Ancho (cm)\"\n                          onChange={(event) => setTestPackageWidth(event.target.value)}\n                          />\n\n                          <label className=\"label-paquete-info\">Alto del paquete (cm)</label>\n                          <input placeholder=\"Alto (cm)\"\n                          onChange={(event) => setTestPackageHeight(event.target.value)}\n                          />\n\n                          <label className=\"label-paquete-info\">Peso del paquete (kg)</label>\n                          <input placeholder=\"Peso (cm)\"\n                          onChange={(event) => setTestPackageWeight(event.target.value)}\n                          />\n\n                        </div>\n                        \n                        <div className=\"column-cotizador-rapido\">\n                        <label className=\"label-paquete-info\">¿Desde dónde envias?</label>\n                          <input placeholder=\"Codigo Postal\"\n                          onChange={(event) => setTestSenderPostalCode(event.target.value)}\n                          />\n\n                          <label className=\"label-paquete-info\">¿Hacia dónde envias?</label>\n                          <input placeholder=\"Codigo Postal\"\n                          onChange={(event) => setTestReceiverPostalCode(event.target.value)}\n                          />\n                        </div>\n                        \n                    </div>\n                      <div className=\"cotizador-row-button\">\n                        <button class=\"button-cotizar-servicios\"onClick={(event) => handleQuote(event)}>Cotizar</button>\n                      </div>\n                </div>\n\n\n                {/* Empieza aqui */}\n                <div className=\"column-cotizador\">\n                      <h1 className=\"servicios-subheading-cotizador\">Servicios ofrecidos:</h1>\n                      {loadingServicios ? <h1 className=\"servicios-paragraph-cotizador\">Utiliza nuestro cotizador rapido para ver los servicios de entrega que manejamos.</h1> : \n                        hasQuoteError ? <div>{testQuoteError}</div> : \n                      \n      \n                      testServices.map((servicio) => {\n                        return (\n                          <div className=\"row-servicio-quota\">\n                            <table>\n                              <tr>\n                                <th>Codigo de Servico:</th>\n                                <th>Tipo de Servicio:</th>\n                                <th>Tiempo de Entrega:</th>\n                                <th>Precio:</th>\n                              </tr>\n                              <tr>\n                                <td>{servicio.name}</td>\n                                <td>{servicio.type}</td>\n                                <td>{servicio.estimateDelivery}</td>\n                                <td>${servicio.totalPrice}.99</td>\n                              </tr>\n                            </table>\n                          </div>\n                        )\n                      })}\n                      \n                </div>\n                {/* Termina Aqui */}\n\n              </div>\n\n              <div className=\"menu-opciones-saldo\">\n                \n                <div className=\"card-row-wrapper\">\n                  <div className=\"card-dashboard\">\n                    <label className=\"label-paquete-info\">Saldo disponible</label>\n                    <h1 className=\"featured-number\">$ {userPoints}.00</h1>\n                    <Link className=\"recargar-saldo-link\" to=\"/recargarsaldo\">\n                      Recagar Saldo {\">\"}\n                    </Link>\n                  </div>\n                  <div className=\"card-dashboard\">\n                    <label className=\"label-paquete-info\">Costo Promedio</label>\n                    <h1 className=\"featured-number\">$ 0.00</h1>\n                    <Link className=\"recargar-saldo-link-trans\" >Recagar Saldo {\">\"}</Link>\n                  </div>\n                </div>\n\n                <div className=\"card-row-wrapper\">\n                  <div className=\"card-dashboard\">\n                    <label className=\"label-paquete-info\">Total Recargas</label>\n                    <h1 className=\"featured-number\">$ {totalRecargas}.00</h1>\n                    <Link className=\"recargar-saldo-link\" to=\"/recargarsaldo\">Recagar Saldo {\">\"}</Link>\n                  </div>\n                  <div className=\"card-dashboard\">\n                    <label className=\"label-paquete-info\">Peso Promedio</label>\n                    <h1 className=\"featured-number\">0.00 Kg</h1>\n                    <Link className=\"recargar-saldo-link-trans\" >Recagar Saldo {\">\"}</Link>\n                  </div>\n                </div>\n\n                <div className=\"card-row-wrapper\">\n                  <Link to=\"/recargarsaldo\">\n                    <button className=\"btn-contact-form \">Recargar Saldo</button>        \n                  </Link>\n                  <Link to=\"/createguide\">\n                    <button id=\"blue\" className=\"btn-contact-form \">Crear Guia</button>\n                  </Link>\n                  \n                    <button onClick={logoutHandler} className=\"btn-contact-form \">Logout</button>\n                  \n                </div>\n\n              </div>\n\n              <h1 className=\"tabla-de-guias-heading\">Tabla de Guias</h1>  \n              <GuideTable userGuides={userGuides}/>\n              \n              <div className=\"div-row-wrapper\">\n                <Link to=\"/createguide\">\n                  <button id=\"blue\" className=\"btn-contact-form\">Crear Guida</button>\n                </Link>\n                <button className=\"btn-contact-form \" onClick={logoutHandler}>Logout</button>\n              </div>\n            </div>\n          <Footer/>\n        \n    </>\n  );\n};\n\nexport default UserDashboard;"]},"metadata":{},"sourceType":"module"}